syntax = "proto3";

package puncher;

service PuncherService {
	rpc AddListing (AddListingRequest) returns (AddListingResult);
	rpc RemoveListing (RemoveListingRequest) returns (RemoveListingResult);
	rpc GetListings (Empty) returns (GetListingsResult);
}

// ---- TYPES ---- //

// -- EMPTY --
message Empty {}


// -- RESULT --
message GenericSuccess {}

message GenericError {}


// -- LISTINGS --
message ListingNoID {
	string name = 1;
}

message Listing {
	ListingNoID listing = 1;
	string id = 2;
}


// ---- MESSAGES ---- //

// -- AddListing --
message AddListingRequest {
	ListingNoID listing = 1;
}

message AddListingResult {
	oneof result {
		AddListingSuccess ok = 1;
		GenericError err = 2;
	}
}

message AddListingSuccess {
	string id = 1;
}


// -- RemoveListing --
message RemoveListingRequest {
	string id = 1;
}

message RemoveListingResult {
	oneof result {
		GenericSuccess ok = 1;
		GenericError err = 2;
	}
}


// -- GetListing --
message GetListingsResult {
	oneof result {
		GetListingsSuccess ok = 1;
		GenericError err = 2;
	}
}

message GetListingsSuccess {
	repeated Listing listings = 1;
}


