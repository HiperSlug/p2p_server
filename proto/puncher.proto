syntax = "proto3";

package puncher;

service PuncherService {
	rpc AddListing (AddListingRequest) returns (AddListingResult);
	rpc RemoveListing (RemoveListingRequest) returns (RemoveListingResult);
	rpc GetListings (Empty) returns (GetListingsResult);
	rpc Ping(PingRequest) return PingResponse;
}

// -- EMPTY --
message Empty {}

// -- LISTINGS --
message ListingNoID {
	string name = 1;
}

message Listing {
	ListingNoID listing = 1;
	string id = 2;
}


// ---- MESSAGES ---- //

// -- AddListing --
message AddListingRequest {
	ListingNoID listing = 1;
}

message AddListingResponse {
	string listing_id = 1;
}


// -- RemoveListing --
message RemoveListingRequest {
	string session_id = 1;
	string listing_id = 2;
}

message RemoveListingResponse {}


// -- GetListing --
message GetListingsResponse {
	repeated Listing listings = 2;
}


// -- Ping --
message PingRequest {
	string session_id = 1;
}

message PingResponse {}